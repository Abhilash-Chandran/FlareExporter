(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),s=(a(17),a(18),a(1)),d=a(2),l=a(3),c=a(6),h=a(5),m=a(7),p=a(10),u=a.n(p),b=a(4),v=(a(19),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Field-With-Label"},i.a.createElement("label",null,this.props.label),i.a.createElement("input",{type:this.props.type,value:this.props.value,onChange:this.handleChange}))}}]),t}(n.Component)),g=(a(20),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this))).handleFileSelect=function(e){e.preventDefault(),a.setState(Object(s.a)({},a.state,{selectedFile:e.target.files[0],recordAnimationDisabled:!1}))},a.handleDragOver=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},a.handleDragLeave=function(e){e.stopPropagation(),e.preventDefault()},a.handleDrop=function(e){e.preventDefault(),a.setState(Object(s.a)({},a.state,{selectedFile:e.dataTransfer.files[0],recordAnimationDisabled:!1}))},a.handleRestartAnimation=function(e){"Restart Animation"===a.state.startOrStopAnimation?a.setState(Object(s.a)({},a.setState,{renderAnimation:!0,recordAnimationDisabled:!1,downloadVideoDisabled:!1,startOrStopAnimation:"Stop Animation"})):a.setState(Object(s.a)({},a.setState,{renderAnimation:!1,recordAnimationDisabled:!0,startOrStopAnimation:"Restart Animation"}))},a.handleCanvasWidthChange=function(e){a.setState(Object(s.a)({},a.state,{canvasWidth:Number.parseInt(e)}))},a.handleCanvasHeightChange=function(e){a.setState(Object(s.a)({},a.state,{canvasHeight:Number.parseInt(e)}))},a.handleAnimationNameChange=function(e){null!=e||""!==e?a.setState(Object(s.a)({},a.state,{animationName:e,recordAnimationDisabled:!1})):a.setState(Object(s.a)({},a.state,{animationName:e,recordAnimationDisabled:!0}))},a.handleVideoTypeChange=function(e){a.setState(Object(s.a)({},a.state,{videoType:e.target.value}))},a.handleRecording=function(e){"Start Recording"===a.state.startOrStopRecording?a.startRecording():a.stopRecording()},a.handleDownloadVideo=function(e){var t=new Blob(a.recordedBlobs,{type:"video/"+a.state.videoType}),n=window.URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=n,i.download=a.state.animationName+"."+a.state.videoType,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)},100),a.recordedBlobs=null},a.mediaRecorder=null,a.recordedBlobs=null,a.state={selectedFile:"",canvasWidth:400,canvasHeight:400,animationName:"",renderAnimation:!0,videoType:"mp4",startOrStopAnimation:"Stop Animation",startOrStopRecording:"Start Recording",downloadVideoDisabled:!0,downloadGifDisabled:!0,recordAnimationDisabled:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"startRecording",value:function(){var e=document.querySelector("canvas").captureStream(120),t={mimeType:"video/"+this.state.videoType+";codecs=vp9",bitsPerSecond:25e5};this.recordedBlobs=[];try{this.mediaRecorder=new MediaRecorder(e,t)}catch(a){console.log("Unable to create MediaRecorder with options Object: ",a);try{t={mimeType:"video/webm;codecs=vp8",bitsPerSecond:25e5},this.mediaRecorder=new MediaRecorder(e,t)}catch(n){console.log("Unable to create MediaRecorder with options Object: ",n);try{t="video/"+this.state.videoType,this.mediaRecorder=new MediaRecorder(e,t)}catch(i){return alert("MediaRecorder is not supported by this browser.\n\nTry Firefox 29 or later, or Chrome 47 or later, with Enable experimental Web Platform features enabled from chrome://flags."),void console.error("Exception while creating MediaRecorder:",i)}}}this.setState(Object(s.a)({},this.state,{downloadVideoDisabled:!0,startOrStopRecording:"Stop Recording"})),this.mediaRecorder.onstop=this.handleStop.bind(this),this.mediaRecorder.ondataavailable=this.handleDataAvailable.bind(this),this.mediaRecorder.start(100)}},{key:"stopRecording",value:function(){this.mediaRecorder.stop(),console.log("Recorded Blobs: ",this.recordedBlobs),this.setState(Object(s.a)({},this.state,{downloadVideoDisabled:!1,startOrStopRecording:"Start Recording"}))}},{key:"handleDataAvailable",value:function(e){e.data&&e.data.size>0&&this.recordedBlobs.push(e.data)}},{key:"handleStop",value:function(e){console.log("Recorder stopped: ",e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Flare-Exporter-Options"},i.a.createElement("div",{className:"Options-Fields"},i.a.createElement("input",{type:"file",onChange:this.handleFileSelect}),i.a.createElement(v,{label:"canvas-width",type:"number",value:this.state.canvasWidth,onChange:this.handleCanvasWidthChange}),i.a.createElement(v,{label:"canvas-heght",type:"number",value:this.state.canvasHeight,onChange:this.handleCanvasHeightChange}),i.a.createElement(v,{label:"Animation-Name",type:"text",value:this.state.animationName,onChange:this.handleAnimationNameChange}),i.a.createElement("div",{className:"Field-With-Label"},i.a.createElement("label",null,"Video Format"),i.a.createElement("select",{onChange:this.handleVideoTypeChange},i.a.createElement("option",{value:"mp4"},"Mp4"),i.a.createElement("option",{value:"webm"},"Webm"))),i.a.createElement("button",{onClick:this.handleRestartAnimation,disabled:""===this.state.animationName},this.state.startOrStopAnimation),i.a.createElement("button",{onClick:this.handleRecording,disabled:this.state.recordAnimationDisabled},this.state.startOrStopRecording),i.a.createElement("button",{disabled:this.state.downloadVideoDisabled,onClick:this.handleDownloadVideo},"Download Video")),i.a.createElement("div",null,""===this.state.selectedFile&&i.a.createElement("div",{className:"DropZoneStyle",style:{height:this.state.canvasHeight/2,width:this.state.canvasWidth,paddingTop:this.state.canvasHeight/2},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},"Drop a flare file here"),this.state.renderAnimation&&i.a.createElement(u.a,{width:this.state.canvasWidth,height:this.state.canvasHeight,animationName:this.state.animationName,file:this.state.selectedFile})))}}]),t}(n.Component));var f=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.7fb9009b.chunk.js.map